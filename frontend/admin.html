<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Attendance</title>
    <link rel="stylesheet" href="admin.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>
    <div class="dashboard-container">
        <aside class="sidebar">
            <div class="sidebar-header"><h3>BELC Attendance</h3></div>
            <nav class="sidebar-nav">
                <a href="#" id="nav-dashboard" class="nav-item active"><i class="fas fa-tachometer-alt"></i><span>Dashboard</span></a>
                <a href="#" id="nav-reports" class="nav-item"><i class="fas fa-flag"></i><span>View Reports</span></a>
                <a href="#" id="nav-password-resets" class="nav-item"><i class="fas fa-key"></i><span>Password Resets</span></a>
                <a href="#" id="nav-employees" class="nav-item"><i class="fas fa-id-card"></i><span>Employees</span></a>
                <a href="#" id="nav-users" class="nav-item"><i class="fas fa-users-cog"></i><span>Manage Users</span></a>
            </nav>
            <div class="sidebar-footer"><button id="logoutBtn"><i class="fas fa-sign-out-alt"></i><span>Logout</span></button></div>
        </aside>

        <main class="main-content">
            <h1 id="dashboard-header">Admin Dashboard</h1>

            <div class="card" id="password-resets-section">
                <div class="card-header"><h2>Pending Password Resets</h2></div>
                <div class="card-body">
                    <table id="passwordResetsTable">
                        <thead><tr><th>Employee</th><th>New Password</th><th>Requested On</th><th>Action</th></tr></thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>

            <div class="card" id="reports-section">
                <div class="card-header"><h2>Pending Attendance Reports</h2></div>
                <div class="card-body"><table id="reportsTable"><thead><tr><th>Employee</th><th>Issue Type</th><th>Details</th><th>Reported On</th><th>Action</th></tr></thead><tbody></tbody></table></div>
            </div>

            <div class="card" id="employees-section">
                <div class="card-header"><h2>Employees</h2></div>
                <div class="card-body"><p class="description">Click on an employee to view their attendance.</p><div id="employee-list" class="employee-list"></div></div>
            </div>

            <div class="card" id="users-section">
                <div class="card-header"><h2>User Management</h2></div>
                <div class="card-body">
                    <form id="userForm"><h3>Add New User</h3><div class="form-row"><input type="text" id="newUsername" placeholder="Username" required><input type="password" id="newPassword" placeholder="Password" required><select id="newRole"><option value="regular">Regular</option><option value="admin">Admin</option></select><button type="submit">Add User</button></div></form>
                    <h3 class="existing-users-title">Existing Users</h3>
                    <table id="usersTable"><thead><tr><th>Username</th><th>Role</th><th>Actions</th></tr></thead><tbody></tbody></table>
                </div>
            </div>
        </main>
    </div>
    
    <div id="attendance-modal" class="modal"><div class="modal-content"><div class="modal-header"><h2 id="modal-employee-name"></h2><span id="attendance-modal-close-btn" class="modal-close">×</span></div><div class="modal-body"><table id="modal-attendance-table"><thead><tr><th>Clock In</th><th>Clock Out</th><th>Actions</th></tr></thead><tbody></tbody></table></div></div></div>
    <div id="edit-user-modal" class="modal"><div class="modal-content"><form id="editUserForm"><div class="modal-header"><h2>Edit User</h2><span id="edit-user-modal-close-btn" class="modal-close">×</span></div><div class="modal-body"><input type="hidden" id="edit-user-id"><div class="form-group"><label for="edit-username">Username</label><input type="text" id="edit-username" required></div><div class="form-group"><label for="edit-role">Role</label><select id="edit-role" required><option value="regular">Regular</option><option value="admin">Admin</option></select></div></div><div class="modal-footer"><button type="submit">Update User</button></div></form></div></div>
    
    <div id="edit-attendance-modal" class="modal">
        <div class="modal-content">
            <form id="editAttendanceForm">
                <div class="modal-header"><h2>Edit Attendance Record</h2><span id="edit-attendance-modal-close-btn" class="modal-close">×</span></div>
                <div class="modal-body">
                    <input type="hidden" id="edit-attendance-id">
                    <div class="form-group"><label for="edit-clock_in">Clock In</label><input type="datetime-local" id="edit-clock_in" required></div>
                    <div class="form-group"><label for="edit-clock_out">Clock Out</label><input type="datetime-local" id="edit-clock_out"></div>
                </div>
                <div class="modal-footer"><button type="submit">Update Record</button></div>
            </form>
        </div>
    </div>
    
    <script src="admin.js"></script>
</body>
</html>